import{r as h,e as we,t as v,j as e,c as P,B as k,d as ie,o as J,f as ye,n as A,s as H,h as ke,_ as ae}from"./index--PttCZWB.js";import{u as F,E as Se,S as _e,T as Pe,a as Le,b as De,M as Fe}from"./top-nav-gqN7m17U.js";import{u as Te,H as Ee,S as Me,T as Ue,C as Ie,P as Ae}from"./config-drawer-47TCGBua.js";import{l as L,T as Be,a as Oe,b as ne,c as S,d as Re,e as _,g as le,F as oe,f as j,h as g,i as f,j as b,k as w,m as ce}from"./form-BT1ALfbk.js";import{B as te}from"./badge-DvlS7RHt.js";import{C as B,a as O,b as R,c as G,d as z}from"./card-BJ95p82l.js";import{V as D,A as q,s as W,t as $,U as Ge,X as ze,Y as He,D as qe,j as We,k as $e,l as Qe,n as U,m as Je,M as Ke,u as Ve,c as Xe,b as Ye,Z as Ze,N as K,O as V,Q as X,R as Y,T as Z,W as ee,_ as es}from"./sign-out-dialog-BjgdDRrb.js";import{U as Q,I as re}from"./upload-62BkPN5W.js";import{c as de,P as me}from"./createLucideIcon-BRCbxnyo.js";import{u as he,a as xe,I as y}from"./label-DFywGouj.js";import{L as se}from"./loader-circle-C5bzbMsL.js";import{P as ss}from"./plus-Bx6WFtZK.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ns=de("toggle-left",as);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],rs=de("toggle-right",ts);function is({data:i,isLoading:o,onEdit:t,onUploadLogo:l,onRefresh:r}){const[d,n]=h.useState(!1),[a,c]=h.useState(null),u=we(),x=F({mutationFn:s=>L.togglePayment(s),onSuccess:s=>{v.success(s.message),u.invalidateQueries({queryKey:["learning-centers"]}),r()},onError:s=>{v.error("Failed to toggle payment status"),console.error("Toggle payment error:",s)}}),N=F({mutationFn:s=>L.deactivate(s),onSuccess:s=>{v.success(s.message),u.invalidateQueries({queryKey:["learning-centers"]}),r(),n(!1),c(null)},onError:s=>{v.error("Failed to deactivate learning center"),console.error("Delete error:",s)}}),C=s=>{x.mutate(s.id)},p=s=>{c(s),n(!0)},m=()=>{a&&N.mutate(a.id)};return o?e.jsxs(B,{children:[e.jsxs(O,{children:[e.jsx(R,{children:"Learning Centers"}),e.jsx(G,{children:"Loading..."})]}),e.jsx(z,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):i.length===0?e.jsxs(B,{children:[e.jsxs(O,{children:[e.jsx(R,{children:"Learning Centers"}),e.jsx(G,{children:"No learning centers found"})]}),e.jsx(z,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(D,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center",children:["No learning centers have been created yet.",e.jsx("br",{}),'Click "Add Learning Center" to get started.']})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(B,{className:"border-0 shadow-lg bg-gradient-to-br from-card via-card to-card/95",children:[e.jsx(O,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(R,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),"Learning Centers (",i.length,")"]}),e.jsx(G,{className:"mt-1",children:"Comprehensive management of educational institutions"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Active"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:i.filter(s=>s.is_active).length})]})]})}),e.jsx(z,{children:e.jsxs(Be,{children:[e.jsx(Oe,{children:e.jsxs(ne,{children:[e.jsx(S,{children:"Center"}),e.jsx(S,{children:"Contact"}),e.jsx(S,{children:"Limits"}),e.jsx(S,{children:"Status"}),e.jsx(S,{children:"Payment"}),e.jsx(S,{children:"Created"}),e.jsx(S,{className:"w-[70px]",children:"Actions"})]})}),e.jsx(Re,{children:i.map(s=>e.jsxs(ne,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(q,{className:"h-10 w-10",children:[e.jsx(W,{src:le(s.logo),alt:s.name}),e.jsx($,{children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",s.id]})]})]})}),e.jsx(_,{children:e.jsx("div",{className:"text-sm",children:s.phone})}),e.jsx(_,{children:e.jsxs("div",{className:"flex flex-col space-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ge,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.student_limit," students"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ze,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.teacher_limit," teachers"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(He,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.group_limit," groups"]})]})]})}),e.jsx(_,{children:e.jsxs(te,{variant:s.is_active?"default":"secondary",className:P("font-medium transition-all duration-200",s.is_active?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800":"bg-red-100 text-red-700 hover:bg-red-200 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800"),children:[e.jsx("div",{className:P("w-2 h-2 rounded-full mr-1",s.is_active?"bg-emerald-500":"bg-red-500")}),s.is_active?"Active":"Inactive"]})}),e.jsx(_,{children:e.jsxs(te,{variant:s.is_paid?"default":"secondary",className:P("font-medium transition-all duration-200",s.is_paid?"bg-blue-100 text-blue-700 hover:bg-blue-200 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800":"bg-amber-100 text-amber-700 hover:bg-amber-200 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800"),children:[e.jsx("div",{className:P("w-2 h-2 rounded-full mr-1",s.is_paid?"bg-blue-500":"bg-amber-500")}),s.is_paid?"Paid Plan":"Free Plan"]})}),e.jsx(_,{children:e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})}),e.jsx(_,{children:e.jsxs(qe,{children:[e.jsx(We,{asChild:!0,children:e.jsxs(k,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Se,{className:"h-4 w-4"})]})}),e.jsxs($e,{align:"end",children:[e.jsx(Qe,{children:"Actions"}),e.jsxs(U,{onClick:()=>t(s),children:[e.jsx(_e,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(U,{onClick:()=>l(s),children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Upload Logo"]}),e.jsx(Je,{}),e.jsxs(U,{onClick:()=>C(s),disabled:x.isPending,children:[s.is_paid?e.jsx(ns,{className:"mr-2 h-4 w-4"}):e.jsx(rs,{className:"mr-2 h-4 w-4"}),s.is_paid?"Make Free":"Make Paid"]}),e.jsxs(U,{onClick:()=>p(s),className:"text-red-600",children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Deactivate"]})]})]})})]},s.id))})]})})]}),e.jsx(Ke,{open:d,onOpenChange:n,title:"Deactivate Learning Center",desc:`Are you sure you want to deactivate "${a?.name}"? This action cannot be undone.`,confirmText:"Deactivate",handleConfirm:m,isLoading:N.isPending})]})}var I="Switch",[ls]=Xe(I),[os,cs]=ls(I),ue=h.forwardRef((i,o)=>{const{__scopeSwitch:t,name:l,checked:r,defaultChecked:d,required:n,disabled:a,value:c="on",onCheckedChange:u,form:x,...N}=i,[C,p]=h.useState(null),m=ie(o,M=>p(M)),s=h.useRef(!1),T=C?x||!!C.closest("form"):!0,[E,Ce]=Ve({prop:r,defaultProp:d??!1,onChange:u,caller:I});return e.jsxs(os,{scope:t,checked:E,disabled:a,children:[e.jsx(me.button,{type:"button",role:"switch","aria-checked":E,"aria-required":n,"data-state":fe(E),"data-disabled":a?"":void 0,disabled:a,value:c,...N,ref:m,onClick:Ye(i.onClick,M=>{Ce(Ne=>!Ne),T&&(s.current=M.isPropagationStopped(),s.current||M.stopPropagation())})}),T&&e.jsx(ge,{control:C,bubbles:!s.current,name:l,value:c,checked:E,required:n,disabled:a,form:x,style:{transform:"translateX(-100%)"}})]})});ue.displayName=I;var pe="SwitchThumb",je=h.forwardRef((i,o)=>{const{__scopeSwitch:t,...l}=i,r=cs(pe,t);return e.jsx(me.span,{"data-state":fe(r.checked),"data-disabled":r.disabled?"":void 0,...l,ref:o})});je.displayName=pe;var ds="SwitchBubbleInput",ge=h.forwardRef(({__scopeSwitch:i,control:o,checked:t,bubbles:l=!0,...r},d)=>{const n=h.useRef(null),a=ie(n,d),c=Te(t),u=Ze(o);return h.useEffect(()=>{const x=n.current;if(!x)return;const N=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(N,"checked").set;if(c!==t&&p){const m=new Event("click",{bubbles:l});p.call(x,t),x.dispatchEvent(m)}},[c,t,l]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:a,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ge.displayName=ds;function fe(i){return i?"checked":"unchecked"}var ms=ue,hs=je;function be({className:i,...o}){return e.jsx(ms,{"data-slot":"switch",className:P("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...o,children:e.jsx(hs,{"data-slot":"switch-thumb",className:P("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0 rtl:data-[state=checked]:-translate-x-[calc(100%-2px)]")})})}const ve=J({name:H().min(2,"Name must be at least 2 characters").max(100,"Name must be less than 100 characters"),phone:H().min(10,"Phone number must be at least 10 characters").regex(/^\+?[1-9]\d{1,14}$/,"Please enter a valid phone number"),student_limit:A().min(1,"Student limit must be at least 1").max(1e4,"Student limit cannot exceed 10,000"),teacher_limit:A().min(1,"Teacher limit must be at least 1").max(1e3,"Teacher limit cannot exceed 1,000"),group_limit:A().min(1,"Group limit must be at least 1").max(1e3,"Group limit cannot exceed 1,000"),is_paid:ye()}),xs=ve.partial();J({file:ke(File).refine(i=>i.size<=5*1024*1024,"File size must be less than 5MB").refine(i=>["image/jpeg","image/jpg","image/png","image/webp"].includes(i.type),"Only JPEG, PNG, and WebP images are allowed")});J({name:H().optional(),is_paid:ae(["all","paid","unpaid"]).default("all"),is_active:ae(["all","active","inactive"]).default("all")});function us({open:i,onOpenChange:o,onSuccess:t}){const l=he({resolver:xe(ve),defaultValues:{name:"",phone:"",student_limit:100,teacher_limit:10,group_limit:20,is_paid:!0}}),r=F({mutationFn:L.create,onSuccess:n=>{v.success(`Learning center "${n.name}" created successfully`),l.reset(),t()},onError:n=>{v.error("Failed to create learning center"),console.error("Create learning center error:",n)}}),d=n=>{r.mutate(n)};return e.jsx(K,{open:i,onOpenChange:o,children:e.jsxs(V,{className:"max-w-md",children:[e.jsxs(X,{children:[e.jsxs(Y,{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"h-5 w-5"}),e.jsx("span",{children:"Create Learning Center"})]}),e.jsx(Z,{children:"Add a new learning center to the system with specified limits and configuration."})]}),e.jsx(oe,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[e.jsx(j,{control:l.control,name:"name",render:({field:n})=>e.jsxs(g,{children:[e.jsx(f,{children:"Center Name"}),e.jsx(b,{children:e.jsx(y,{placeholder:"ABC Learning Center",...n})}),e.jsx(w,{})]})}),e.jsx(j,{control:l.control,name:"phone",render:({field:n})=>e.jsxs(g,{children:[e.jsx(f,{children:"Phone Number"}),e.jsx(b,{children:e.jsx(y,{placeholder:"+998901234567",...n})}),e.jsx(w,{})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(j,{control:l.control,name:"student_limit",render:({field:n})=>e.jsxs(g,{children:[e.jsx(f,{children:"Students"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...n,onChange:a=>n.onChange(parseInt(a.target.value))})}),e.jsx(w,{})]})}),e.jsx(j,{control:l.control,name:"teacher_limit",render:({field:n})=>e.jsxs(g,{children:[e.jsx(f,{children:"Teachers"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...n,onChange:a=>n.onChange(parseInt(a.target.value))})}),e.jsx(w,{})]})}),e.jsx(j,{control:l.control,name:"group_limit",render:({field:n})=>e.jsxs(g,{children:[e.jsx(f,{children:"Groups"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...n,onChange:a=>n.onChange(parseInt(a.target.value))})}),e.jsx(w,{})]})})]}),e.jsx(j,{control:l.control,name:"is_paid",render:({field:n})=>e.jsxs(g,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(f,{children:"Paid Subscription"}),e.jsx(ce,{children:"Enable paid features for this learning center"})]}),e.jsx(b,{children:e.jsx(be,{checked:n.value,onCheckedChange:n.onChange})})]})}),e.jsxs(ee,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:r.isPending,children:"Cancel"}),e.jsxs(k,{type:"submit",disabled:r.isPending,children:[r.isPending&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Center"]})]})]})})]})})}function ps({open:i,onOpenChange:o,center:t,onSuccess:l}){const r=he({resolver:xe(xs),defaultValues:{name:t.name,phone:t.phone,student_limit:t.student_limit,teacher_limit:t.teacher_limit,group_limit:t.group_limit,is_paid:t.is_paid}});h.useEffect(()=>{r.reset({name:t.name,phone:t.phone,student_limit:t.student_limit,teacher_limit:t.teacher_limit,group_limit:t.group_limit,is_paid:t.is_paid})},[t,r]);const d=F({mutationFn:a=>L.update(t.id,a),onSuccess:a=>{v.success(`Learning center "${a.name}" updated successfully`),l()},onError:a=>{v.error("Failed to update learning center"),console.error("Update learning center error:",a)}}),n=a=>{d.mutate(a)};return e.jsx(K,{open:i,onOpenChange:o,children:e.jsxs(V,{className:"max-w-md",children:[e.jsxs(X,{children:[e.jsxs(Y,{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"h-5 w-5"}),e.jsx("span",{children:"Edit Learning Center"})]}),e.jsxs(Z,{children:['Update the configuration and limits for "',t.name,'".']})]}),e.jsx(oe,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[e.jsx(j,{control:r.control,name:"name",render:({field:a})=>e.jsxs(g,{children:[e.jsx(f,{children:"Center Name"}),e.jsx(b,{children:e.jsx(y,{placeholder:"ABC Learning Center",...a})}),e.jsx(w,{})]})}),e.jsx(j,{control:r.control,name:"phone",render:({field:a})=>e.jsxs(g,{children:[e.jsx(f,{children:"Phone Number"}),e.jsx(b,{children:e.jsx(y,{placeholder:"+998901234567",...a})}),e.jsx(w,{})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(j,{control:r.control,name:"student_limit",render:({field:a})=>e.jsxs(g,{children:[e.jsx(f,{children:"Students"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...a,onChange:c=>a.onChange(parseInt(c.target.value))})}),e.jsx(w,{})]})}),e.jsx(j,{control:r.control,name:"teacher_limit",render:({field:a})=>e.jsxs(g,{children:[e.jsx(f,{children:"Teachers"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...a,onChange:c=>a.onChange(parseInt(c.target.value))})}),e.jsx(w,{})]})}),e.jsx(j,{control:r.control,name:"group_limit",render:({field:a})=>e.jsxs(g,{children:[e.jsx(f,{children:"Groups"}),e.jsx(b,{children:e.jsx(y,{type:"number",min:1,...a,onChange:c=>a.onChange(parseInt(c.target.value))})}),e.jsx(w,{})]})})]}),e.jsx(j,{control:r.control,name:"is_paid",render:({field:a})=>e.jsxs(g,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(f,{children:"Paid Subscription"}),e.jsx(ce,{children:"Enable paid features for this learning center"})]}),e.jsx(b,{children:e.jsx(be,{checked:a.value,onCheckedChange:a.onChange})})]})}),e.jsxs(ee,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>o(!1),disabled:d.isPending,children:"Cancel"}),e.jsxs(k,{type:"submit",disabled:d.isPending,children:[d.isPending&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Center"]})]})]})})]})})}function js({open:i,onOpenChange:o,center:t,onSuccess:l}){const[r,d]=h.useState(null),[n,a]=h.useState(null),c=h.useRef(null),u=F({mutationFn:m=>L.uploadLogo(t.id,m),onSuccess:m=>{v.success(m.message),d(null),a(null),l()},onError:m=>{v.error("Failed to upload logo"),console.error("Upload logo error:",m)}}),x=m=>{const s=m.target.files?.[0];if(!s)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(s.type)){v.error("Only JPEG, PNG, and WebP images are allowed");return}if(s.size>5*1024*1024){v.error("File size must be less than 5MB");return}d(s);const T=URL.createObjectURL(s);a(T)},N=()=>{r&&u.mutate(r)},C=()=>{d(null),n&&(URL.revokeObjectURL(n),a(null)),c.current&&(c.current.value="")},p=m=>{m||C(),o(m)};return e.jsx(K,{open:i,onOpenChange:p,children:e.jsxs(V,{className:"max-w-md",children:[e.jsxs(X,{children:[e.jsxs(Y,{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"h-5 w-5"}),e.jsx("span",{children:"Upload Logo"})]}),e.jsxs(Z,{children:['Upload a new logo for "',t.name,'". Supported formats: JPEG, PNG, WebP (max 5MB).']})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Current Logo:"}),e.jsxs(q,{className:"h-12 w-12",children:[e.jsx(W,{src:le(t.logo),alt:t.name}),e.jsx($,{children:e.jsx(re,{className:"h-6 w-6"})})]})]}),e.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6",children:r?e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(q,{className:"h-20 w-20",children:[e.jsx(W,{src:n||void 0,alt:"Preview"}),e.jsx($,{children:e.jsx(re,{className:"h-8 w-8"})})]}),e.jsx(k,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:C,children:e.jsx(es,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium",children:r.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[(r.size/1024/1024).toFixed(2)," MB"]})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"mx-auto h-12 w-12 text-muted-foreground"}),e.jsx("div",{className:"mt-4",children:e.jsx(k,{type:"button",variant:"outline",onClick:()=>c.current?.click(),children:"Choose File"})}),e.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"JPEG, PNG, WebP up to 5MB"})]})}),e.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:x,className:"hidden"})]}),e.jsxs(ee,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:u.isPending,children:"Cancel"}),e.jsxs(k,{type:"button",onClick:N,disabled:!r||u.isPending,children:[u.isPending&&e.jsx(se,{className:"mr-2 h-4 w-4 animate-spin"}),"Upload Logo"]})]})]})})}function gs(){const[i,o]=h.useState(!1),[t,l]=h.useState(!1),[r,d]=h.useState(!1),[n,a]=h.useState(null),{data:c=[],isLoading:u,refetch:x}=Le({queryKey:["learning-centers"],queryFn:()=>L.list({limit:100})}),N=m=>{a(m),l(!0)},C=m=>{a(m),d(!0)},p=()=>{x(),o(!1),l(!1),d(!1),a(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(Ee,{children:[e.jsx(De,{links:fs}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(Me,{}),e.jsx(Ue,{}),e.jsx(Ie,{}),e.jsx(Ae,{})]})]}),e.jsxs(Fe,{children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Learning Centers"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Manage all learning centers, their configurations, and operational limits"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(k,{onClick:()=>o(!0),size:"lg",className:"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary/80 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(ss,{className:"mr-2 h-5 w-5"}),"Add Learning Center"]})})]}),e.jsx(is,{data:c,isLoading:u,onEdit:N,onUploadLogo:C,onRefresh:x})]}),e.jsx(us,{open:i,onOpenChange:o,onSuccess:p}),n&&e.jsxs(e.Fragment,{children:[e.jsx(ps,{open:t,onOpenChange:l,center:n,onSuccess:p}),e.jsx(js,{open:r,onOpenChange:d,center:n,onSuccess:p})]})]})}const fs=[{title:"Overview",href:"/learning-centers",isActive:!0,disabled:!1},{title:"Analytics",href:"/learning-centers/analytics",isActive:!1,disabled:!0},{title:"Settings",href:"/learning-centers/settings",isActive:!1,disabled:!0}],Fs=gs;export{Fs as component};
