import{v as b,w as Hr,x as $r,$ as zr,r as Kr,j as Vr,c as Zr}from"./index-F_r_DwTH.js";import{P as Gr}from"./createLucideIcon-C0SHlZwQ.js";var me=r=>r.type==="checkbox",ue=r=>r instanceof Date,$=r=>r==null;const Fr=r=>typeof r=="object";var P=r=>!$(r)&&!Array.isArray(r)&&Fr(r)&&!ue(r),Ar=r=>P(r)&&r.target?me(r.target)?r.target.checked:r.target.value:r,Yr=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,xr=(r,s)=>r.has(Yr(s)),Jr=r=>{const s=r.constructor&&r.constructor.prototype;return P(s)&&s.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(r){let s;const e=Array.isArray(r),t=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)s=new Date(r);else if(!($e&&(r instanceof Blob||t))&&(e||P(r)))if(s=e?[]:Object.create(Object.getPrototypeOf(r)),!e&&!Jr(r))s=r;else for(const o in r)r.hasOwnProperty(o)&&(s[o]=U(r[o]));else return r;return s}var Ae=r=>/^\w*$/.test(r),L=r=>r===void 0,xe=r=>Array.isArray(r)?r.filter(Boolean):[],ze=r=>xe(r.replace(/["|']|\]/g,"").split(/\.|\[/)),f=(r,s,e)=>{if(!s||!P(r))return e;const t=(Ae(s)?[s]:ze(s)).reduce((o,n)=>$(o)?o:o[n],r);return L(t)||t===r?L(r[s])?e:r[s]:t},G=r=>typeof r=="boolean",S=(r,s,e)=>{let t=-1;const o=Ae(s)?[s]:ze(s),n=o.length,l=n-1;for(;++t<n;){const c=o[t];let x=e;if(t!==l){const F=r[c];x=P(F)||Array.isArray(F)?F:isNaN(+o[t+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;r[c]=x,r=r[c]}};const be={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},se={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ke=b.createContext(null);Ke.displayName="HookFormContext";const pe=()=>b.useContext(Ke),xt=r=>{const{children:s,...e}=r;return b.createElement(Ke.Provider,{value:e},s)};var pr=(r,s,e,t=!0)=>{const o={defaultValues:s._defaultValues};for(const n in r)Object.defineProperty(o,n,{get:()=>{const l=n;return s._proxyFormState[l]!==Q.all&&(s._proxyFormState[l]=!t||Q.all),e&&(e[l]=!0),r[l]}});return o};const we=typeof window<"u"?b.useLayoutEffect:b.useEffect;function Qr(r){const s=pe(),{control:e=s.control,disabled:t,name:o,exact:n}=r||{},[l,c]=b.useState(e._formState),x=b.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return we(()=>e._subscribe({name:o,formState:x.current,exact:n,callback:F=>{!t&&c({...e._formState,...F})}}),[o,t,n]),b.useEffect(()=>{x.current.isValid&&e._setValid(!0)},[e]),b.useMemo(()=>pr(l,e,x.current,!1),[l,e])}var Y=r=>typeof r=="string",wr=(r,s,e,t,o)=>Y(r)?(t&&s.watch.add(r),f(e,r,o)):Array.isArray(r)?r.map(n=>(t&&s.watch.add(n),f(e,n))):(t&&(s.watchAll=!0),e),Be=r=>$(r)||!Fr(r);function ie(r,s,e=new WeakSet){if(Be(r)||Be(s))return r===s;if(ue(r)&&ue(s))return r.getTime()===s.getTime();const t=Object.keys(r),o=Object.keys(s);if(t.length!==o.length)return!1;if(e.has(r)||e.has(s))return!0;e.add(r),e.add(s);for(const n of t){const l=r[n];if(!o.includes(n))return!1;if(n!=="ref"){const c=s[n];if(ue(l)&&ue(c)||P(l)&&P(c)||Array.isArray(l)&&Array.isArray(c)?!ie(l,c,e):l!==c)return!1}}return!0}function Xr(r){const s=pe(),{control:e=s.control,name:t,defaultValue:o,disabled:n,exact:l,compute:c}=r||{},x=b.useRef(o),F=b.useRef(c),V=b.useRef(void 0);F.current=c;const p=b.useMemo(()=>e._getWatch(t,x.current),[e,t]),[m,Z]=b.useState(F.current?F.current(p):p);return we(()=>e._subscribe({name:t,formState:{values:!0},exact:l,callback:W=>{if(!n){const O=wr(t,e._names,W.values||e._formValues,!1,x.current);if(F.current){const B=F.current(O);ie(B,V.current)||(Z(B),V.current=B)}else Z(O)}}}),[e,n,t,l]),b.useEffect(()=>e._removeUnmounted()),m}function et(r){const s=pe(),{name:e,disabled:t,control:o=s.control,shouldUnregister:n,defaultValue:l}=r,c=xr(o._names.array,e),x=b.useMemo(()=>f(o._formValues,e,f(o._defaultValues,e,l)),[o,e,l]),F=Xr({control:o,name:e,defaultValue:x,exact:!0}),V=Qr({control:o,name:e,exact:!0}),p=b.useRef(r),m=b.useRef(void 0),Z=b.useRef(o.register(e,{...r.rules,value:F,...G(r.disabled)?{disabled:r.disabled}:{}}));p.current=r;const W=b.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(V.errors,e)},isDirty:{enumerable:!0,get:()=>!!f(V.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!f(V.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!f(V.validatingFields,e)},error:{enumerable:!0,get:()=>f(V.errors,e)}}),[V,e]),O=b.useCallback(R=>Z.current.onChange({target:{value:Ar(R),name:e},type:be.CHANGE}),[e]),B=b.useCallback(()=>Z.current.onBlur({target:{value:f(o._formValues,e),name:e},type:be.BLUR}),[e,o._formValues]),ae=b.useCallback(R=>{const I=f(o._fields,e);I&&R&&(I._f.ref={focus:()=>R.focus&&R.focus(),select:()=>R.select&&R.select(),setCustomValidity:g=>R.setCustomValidity(g),reportValidity:()=>R.reportValidity()})},[o._fields,e]),w=b.useMemo(()=>({name:e,value:F,...G(t)||V.disabled?{disabled:V.disabled||t}:{},onChange:O,onBlur:B,ref:ae}),[e,t,V.disabled,O,B,ae,F]);return b.useEffect(()=>{const R=o._options.shouldUnregister||n,I=m.current;I&&I!==e&&!c&&o.unregister(I),o.register(e,{...p.current.rules,...G(p.current.disabled)?{disabled:p.current.disabled}:{}});const g=(_,A)=>{const D=f(o._fields,_);D&&D._f&&(D._f.mount=A)};if(g(e,!0),R){const _=U(f(o._options.defaultValues,e));S(o._defaultValues,e,_),L(f(o._formValues,e))&&S(o._formValues,e,_)}return!c&&o.register(e),m.current=e,()=>{(c?R&&!o._state.action:R)?o.unregister(e):g(e,!1)}},[e,o,c,n]),b.useEffect(()=>{o._setDisabledField({disabled:t,name:e})},[t,e,o]),b.useMemo(()=>({field:w,formState:V,fieldState:W}),[w,V,W])}const pt=r=>r.render(et(r));var Ze=(r,s,e,t,o)=>s?{...e[r],types:{...e[r]&&e[r].types?e[r].types:{},[t]:o||!0}}:{},K=r=>Array.isArray(r)?r:[r],or=()=>{let r=[];return{get observers(){return r},next:o=>{for(const n of r)n.next&&n.next(o)},subscribe:o=>(r.push(o),{unsubscribe:()=>{r=r.filter(n=>n!==o)}}),unsubscribe:()=>{r=[]}}};function Er(r,s){const e={};for(const t in r)if(r.hasOwnProperty(t)){const o=r[t],n=s[t];if(o&&P(o)&&n){const l=Er(o,n);P(l)&&(e[t]=l)}else r[t]&&(e[t]=n)}return e}var H=r=>P(r)&&!Object.keys(r).length,Ge=r=>r.type==="file",X=r=>typeof r=="function",Ve=r=>{if(!$e)return!1;const s=r?r.ownerDocument:0;return r instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Sr=r=>r.type==="select-multiple",Ye=r=>r.type==="radio",rt=r=>Ye(r)||me(r),Oe=r=>Ve(r)&&r.isConnected;function tt(r,s){const e=s.slice(0,-1).length;let t=0;for(;t<e;)r=L(r)?t++:r[s[t++]];return r}function st(r){for(const s in r)if(r.hasOwnProperty(s)&&!L(r[s]))return!1;return!0}function N(r,s){const e=Array.isArray(s)?s:Ae(s)?[s]:ze(s),t=e.length===1?r:tt(r,e),o=e.length-1,n=e[o];return t&&delete t[n],o!==0&&(P(t)&&H(t)||Array.isArray(t)&&st(t))&&N(r,e.slice(0,-1)),r}var it=r=>{for(const s in r)if(X(r[s]))return!0;return!1};function kr(r){return Array.isArray(r)||P(r)&&!it(r)}function je(r,s={}){for(const e in r)kr(r[e])?(s[e]=Array.isArray(r[e])?[]:{},je(r[e],s[e])):$(r[e])||(s[e]=!0);return s}function de(r,s,e){e||(e=je(s));for(const t in r)kr(r[t])?L(s)||Be(e[t])?e[t]=je(r[t],Array.isArray(r[t])?[]:{}):de(r[t],$(s)?{}:s[t],e[t]):e[t]=!ie(r[t],s[t]);return e}const ur={value:!1,isValid:!1},lr={value:!0,isValid:!0};var Dr=r=>{if(Array.isArray(r)){if(r.length>1){const s=r.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:s,isValid:!!s.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!L(r[0].attributes.value)?L(r[0].value)||r[0].value===""?lr:{value:r[0].value,isValid:!0}:lr:ur}return ur},Cr=(r,{valueAsNumber:s,valueAsDate:e,setValueAs:t})=>L(r)?r:s?r===""?NaN:r&&+r:e&&Y(r)?new Date(r):t?t(r):r;const cr={isValid:!1,value:null};var Or=r=>Array.isArray(r)?r.reduce((s,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:s,cr):cr;function dr(r){const s=r.ref;return Ge(s)?s.files:Ye(s)?Or(r.refs).value:Sr(s)?[...s.selectedOptions].map(({value:e})=>e):me(s)?Dr(r.refs).value:Cr(L(s.value)?r.ref.value:s.value,r)}var at=(r,s,e,t)=>{const o={};for(const n of r){const l=f(s,n);l&&S(o,n,l._f)}return{criteriaMode:e,names:[...r],fields:o,shouldUseNativeValidation:t}},Fe=r=>r instanceof RegExp,he=r=>L(r)?r:Fe(r)?r.source:P(r)?Fe(r.value)?r.value.source:r.value:r,fe=r=>({isOnSubmit:!r||r===Q.onSubmit,isOnBlur:r===Q.onBlur,isOnChange:r===Q.onChange,isOnAll:r===Q.all,isOnTouch:r===Q.onTouched});const fr="AsyncFunction";var nt=r=>!!r&&!!r.validate&&!!(X(r.validate)&&r.validate.constructor.name===fr||P(r.validate)&&Object.values(r.validate).find(s=>s.constructor.name===fr)),ot=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),We=(r,s,e)=>!e&&(s.watchAll||s.watch.has(r)||[...s.watch].some(t=>r.startsWith(t)&&/^\.\w+/.test(r.slice(t.length))));const ye=(r,s,e,t)=>{for(const o of e||Object.keys(r)){const n=f(r,o);if(n){const{_f:l,...c}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],o)&&!t)return!0;if(l.ref&&s(l.ref,l.name)&&!t)return!0;if(ye(c,s))break}else if(P(c)&&ye(c,s))break}}};function yr(r,s,e){const t=f(r,e);if(t||Ae(e))return{error:t,name:e};const o=e.split(".");for(;o.length;){const n=o.join("."),l=f(s,n),c=f(r,n);if(l&&!Array.isArray(l)&&e!==n)return{name:e};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};o.pop()}return{name:e}}var ut=(r,s,e,t)=>{e(r);const{name:o,...n}=r;return H(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!t||Q.all))},lt=(r,s,e)=>!r||!s||r===s||K(r).some(t=>t&&(e?t===s:t.startsWith(s)||s.startsWith(t))),ct=(r,s,e,t,o)=>o.isOnAll?!1:!e&&o.isOnTouch?!(s||r):(e?t.isOnBlur:o.isOnBlur)?!r:(e?t.isOnChange:o.isOnChange)?r:!0,dt=(r,s)=>!xe(f(r,s)).length&&N(r,s),Mr=(r,s,e)=>{const t=K(f(r,e));return S(t,"root",s[e]),S(r,e,t),r};function gr(r,s,e="validate"){if(Y(r)||Array.isArray(r)&&r.every(Y)||G(r)&&!r)return{type:e,message:Y(r)?r:"",ref:s}}var ce=r=>P(r)&&!Fe(r)?r:{value:r,message:""},qe=async(r,s,e,t,o,n)=>{const{ref:l,refs:c,required:x,maxLength:F,minLength:V,min:p,max:m,pattern:Z,validate:W,name:O,valueAsNumber:B,mount:ae}=r._f,w=f(e,O);if(!ae||s.has(O))return{};const R=c?c[0]:l,I=E=>{o&&R.reportValidity&&(R.setCustomValidity(G(E)?"":E||""),R.reportValidity())},g={},_=Ye(l),A=me(l),D=_||A,j=(B||Ge(l))&&L(l.value)&&L(w)||Ve(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,ee=Ze.bind(null,O,t,g),re=(E,C,T,q=se.maxLength,z=se.minLength)=>{const te=E?C:T;g[O]={type:E?q:z,message:te,ref:l,...ee(E?q:z,te)}};if(n?!Array.isArray(w)||!w.length:x&&(!D&&(j||$(w))||G(w)&&!w||A&&!Dr(c).isValid||_&&!Or(c).isValid)){const{value:E,message:C}=Y(x)?{value:!!x,message:x}:ce(x);if(E&&(g[O]={type:se.required,message:C,ref:R,...ee(se.required,C)},!t))return I(C),g}if(!j&&(!$(p)||!$(m))){let E,C;const T=ce(m),q=ce(p);if(!$(w)&&!isNaN(w)){const z=l.valueAsNumber||w&&+w;$(T.value)||(E=z>T.value),$(q.value)||(C=z<q.value)}else{const z=l.valueAsDate||new Date(w),te=_e=>new Date(new Date().toDateString()+" "+_e),ge=l.type=="time",le=l.type=="week";Y(T.value)&&w&&(E=ge?te(w)>te(T.value):le?w>T.value:z>new Date(T.value)),Y(q.value)&&w&&(C=ge?te(w)<te(q.value):le?w<q.value:z<new Date(q.value))}if((E||C)&&(re(!!E,T.message,q.message,se.max,se.min),!t))return I(g[O].message),g}if((F||V)&&!j&&(Y(w)||n&&Array.isArray(w))){const E=ce(F),C=ce(V),T=!$(E.value)&&w.length>+E.value,q=!$(C.value)&&w.length<+C.value;if((T||q)&&(re(T,E.message,C.message),!t))return I(g[O].message),g}if(Z&&!j&&Y(w)){const{value:E,message:C}=ce(Z);if(Fe(E)&&!w.match(E)&&(g[O]={type:se.pattern,message:C,ref:l,...ee(se.pattern,C)},!t))return I(C),g}if(W){if(X(W)){const E=await W(w,e),C=gr(E,R);if(C&&(g[O]={...C,...ee(se.validate,C.message)},!t))return I(C.message),g}else if(P(W)){let E={};for(const C in W){if(!H(E)&&!t)break;const T=gr(await W[C](w,e),R,C);T&&(E={...T,...ee(C,T.message)},I(T.message),t&&(g[O]=E))}if(!H(E)&&(g[O]={ref:R,...E},!t))return g}}return I(!0),g};const ft={mode:Q.onSubmit,reValidateMode:Q.onChange,shouldFocusError:!0};function yt(r={}){let s={...ft,...r},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:X(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},t={},o=P(s.defaultValues)||P(s.values)?U(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:U(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x,F=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...V};const m={array:or(),state:or()},Z=s.criteriaMode===Q.all,W=i=>a=>{clearTimeout(F),F=setTimeout(i,a)},O=async i=>{if(!s.disabled&&(V.isValid||p.isValid||i)){const a=s.resolver?H((await A()).errors):await j(t,!0);a!==e.isValid&&m.state.next({isValid:a})}},B=(i,a)=>{!s.disabled&&(V.isValidating||V.validatingFields||p.isValidating||p.validatingFields)&&((i||Array.from(c.mount)).forEach(u=>{u&&(a?S(e.validatingFields,u,a):N(e.validatingFields,u))}),m.state.next({validatingFields:e.validatingFields,isValidating:!H(e.validatingFields)}))},ae=(i,a=[],u,h,y=!0,d=!0)=>{if(h&&u&&!s.disabled){if(l.action=!0,d&&Array.isArray(f(t,i))){const v=u(f(t,i),h.argA,h.argB);y&&S(t,i,v)}if(d&&Array.isArray(f(e.errors,i))){const v=u(f(e.errors,i),h.argA,h.argB);y&&S(e.errors,i,v),dt(e.errors,i)}if((V.touchedFields||p.touchedFields)&&d&&Array.isArray(f(e.touchedFields,i))){const v=u(f(e.touchedFields,i),h.argA,h.argB);y&&S(e.touchedFields,i,v)}(V.dirtyFields||p.dirtyFields)&&(e.dirtyFields=de(o,n)),m.state.next({name:i,isDirty:re(i,a),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else S(n,i,a)},w=(i,a)=>{S(e.errors,i,a),m.state.next({errors:e.errors})},R=i=>{e.errors=i,m.state.next({errors:e.errors,isValid:!1})},I=(i,a,u,h)=>{const y=f(t,i);if(y){const d=f(n,i,L(u)?f(o,i):u);L(d)||h&&h.defaultChecked||a?S(n,i,a?d:dr(y._f)):T(i,d),l.mount&&O()}},g=(i,a,u,h,y)=>{let d=!1,v=!1;const k={name:i};if(!s.disabled){if(!u||h){(V.isDirty||p.isDirty)&&(v=e.isDirty,e.isDirty=k.isDirty=re(),d=v!==k.isDirty);const M=ie(f(o,i),a);v=!!f(e.dirtyFields,i),M?N(e.dirtyFields,i):S(e.dirtyFields,i,!0),k.dirtyFields=e.dirtyFields,d=d||(V.dirtyFields||p.dirtyFields)&&v!==!M}if(u){const M=f(e.touchedFields,i);M||(S(e.touchedFields,i,u),k.touchedFields=e.touchedFields,d=d||(V.touchedFields||p.touchedFields)&&M!==u)}d&&y&&m.state.next(k)}return d?k:{}},_=(i,a,u,h)=>{const y=f(e.errors,i),d=(V.isValid||p.isValid)&&G(a)&&e.isValid!==a;if(s.delayError&&u?(x=W(()=>w(i,u)),x(s.delayError)):(clearTimeout(F),x=null,u?S(e.errors,i,u):N(e.errors,i)),(u?!ie(y,u):y)||!H(h)||d){const v={...h,...d&&G(a)?{isValid:a}:{},errors:e.errors,name:i};e={...e,...v},m.state.next(v)}},A=async i=>{B(i,!0);const a=await s.resolver(n,s.context,at(i||c.mount,t,s.criteriaMode,s.shouldUseNativeValidation));return B(i),a},D=async i=>{const{errors:a}=await A(i);if(i)for(const u of i){const h=f(a,u);h?S(e.errors,u,h):N(e.errors,u)}else e.errors=a;return a},j=async(i,a,u={valid:!0})=>{for(const h in i){const y=i[h];if(y){const{_f:d,...v}=y;if(d){const k=c.array.has(d.name),M=y._f&&nt(y._f);M&&V.validatingFields&&B([d.name],!0);const J=await qe(y,c.disabled,n,Z,s.shouldUseNativeValidation&&!a,k);if(M&&V.validatingFields&&B([d.name]),J[d.name]&&(u.valid=!1,a))break;!a&&(f(J,d.name)?k?Mr(e.errors,J,d.name):S(e.errors,d.name,J[d.name]):N(e.errors,d.name))}!H(v)&&await j(v,a,u)}}return u.valid},ee=()=>{for(const i of c.unMount){const a=f(t,i);a&&(a._f.refs?a._f.refs.every(u=>!Oe(u)):!Oe(a._f.ref))&&Ee(i)}c.unMount=new Set},re=(i,a)=>!s.disabled&&(i&&a&&S(n,i,a),!ie(_e(),o)),E=(i,a,u)=>wr(i,c,{...l.mount?n:L(a)?o:Y(i)?{[i]:a}:a},u,a),C=i=>xe(f(l.mount?n:o,i,s.shouldUnregister?f(o,i,[]):[])),T=(i,a,u={})=>{const h=f(t,i);let y=a;if(h){const d=h._f;d&&(!d.disabled&&S(n,i,Cr(a,d)),y=Ve(d.ref)&&$(a)?"":a,Sr(d.ref)?[...d.ref.options].forEach(v=>v.selected=y.includes(v.value)):d.refs?me(d.ref)?d.refs.forEach(v=>{(!v.defaultChecked||!v.disabled)&&(Array.isArray(y)?v.checked=!!y.find(k=>k===v.value):v.checked=y===v.value||!!y)}):d.refs.forEach(v=>v.checked=v.value===y):Ge(d.ref)?d.ref.value="":(d.ref.value=y,d.ref.type||m.state.next({name:i,values:U(n)})))}(u.shouldDirty||u.shouldTouch)&&g(i,y,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&le(i)},q=(i,a,u)=>{for(const h in a){if(!a.hasOwnProperty(h))return;const y=a[h],d=i+"."+h,v=f(t,d);(c.array.has(i)||P(y)||v&&!v._f)&&!ue(y)?q(d,y,u):T(d,y,u)}},z=(i,a,u={})=>{const h=f(t,i),y=c.array.has(i),d=U(a);S(n,i,d),y?(m.array.next({name:i,values:U(n)}),(V.isDirty||V.dirtyFields||p.isDirty||p.dirtyFields)&&u.shouldDirty&&m.state.next({name:i,dirtyFields:de(o,n),isDirty:re(i,d)})):h&&!h._f&&!$(d)?q(i,d,u):T(i,d,u),We(i,c)&&m.state.next({...e,name:i}),m.state.next({name:l.mount?i:void 0,values:U(n)})},te=async i=>{l.mount=!0;const a=i.target;let u=a.name,h=!0;const y=f(t,u),d=M=>{h=Number.isNaN(M)||ue(M)&&isNaN(M.getTime())||ie(M,f(n,u,M))},v=fe(s.mode),k=fe(s.reValidateMode);if(y){let M,J;const ve=a.type?dr(y._f):Ar(i),ne=i.type===be.BLUR||i.type===be.FOCUS_OUT,jr=!ot(y._f)&&!s.resolver&&!f(e.errors,u)&&!y._f.deps||ct(ne,f(e.touchedFields,u),e.isSubmitted,k,v),De=We(u,c,ne);S(n,u,ve),ne?(!a||!a.readOnly)&&(y._f.onBlur&&y._f.onBlur(i),x&&x(0)):y._f.onChange&&y._f.onChange(i);const Ce=g(u,ve,ne),Wr=!H(Ce)||De;if(!ne&&m.state.next({name:u,type:i.type,values:U(n)}),jr)return(V.isValid||p.isValid)&&(s.mode==="onBlur"?ne&&O():ne||O()),Wr&&m.state.next({name:u,...De?{}:Ce});if(!ne&&De&&m.state.next({...e}),s.resolver){const{errors:ar}=await A([u]);if(d(ve),h){const qr=yr(e.errors,t,u),nr=yr(ar,t,qr.name||u);M=nr.error,u=nr.name,J=H(ar)}}else B([u],!0),M=(await qe(y,c.disabled,n,Z,s.shouldUseNativeValidation))[u],B([u]),d(ve),h&&(M?J=!1:(V.isValid||p.isValid)&&(J=await j(t,!0)));h&&(y._f.deps&&(!Array.isArray(y._f.deps)||y._f.deps.length>0)&&le(y._f.deps),_(u,J,M,Ce))}},ge=(i,a)=>{if(f(e.errors,a)&&i.focus)return i.focus(),1},le=async(i,a={})=>{let u,h;const y=K(i);if(s.resolver){const d=await D(L(i)?i:y);u=H(d),h=i?!y.some(v=>f(d,v)):u}else i?(h=(await Promise.all(y.map(async d=>{const v=f(t,d);return await j(v&&v._f?{[d]:v}:v)}))).every(Boolean),!(!h&&!e.isValid)&&O()):h=u=await j(t);return m.state.next({...!Y(i)||(V.isValid||p.isValid)&&u!==e.isValid?{}:{name:i},...s.resolver||!i?{isValid:u}:{},errors:e.errors}),a.shouldFocus&&!h&&ye(t,ge,i?y:c.mount),h},_e=(i,a)=>{let u={...l.mount?n:o};return a&&(u=Er(a.dirtyFields?e.dirtyFields:e.touchedFields,u)),L(i)?u:Y(i)?f(u,i):i.map(h=>f(u,h))},Je=(i,a)=>({invalid:!!f((a||e).errors,i),isDirty:!!f((a||e).dirtyFields,i),error:f((a||e).errors,i),isValidating:!!f(e.validatingFields,i),isTouched:!!f((a||e).touchedFields,i)}),Ur=i=>{i&&K(i).forEach(a=>N(e.errors,a)),m.state.next({errors:i?e.errors:{}})},Qe=(i,a,u)=>{const h=(f(t,i,{_f:{}})._f||{}).ref,y=f(e.errors,i)||{},{ref:d,message:v,type:k,...M}=y;S(e.errors,i,{...M,...a,ref:h}),m.state.next({name:i,errors:e.errors,isValid:!1}),u&&u.shouldFocus&&h&&h.focus&&h.focus()},Lr=(i,a)=>X(i)?m.state.subscribe({next:u=>"values"in u&&i(E(void 0,a),u)}):E(i,a,!0),Xe=i=>m.state.subscribe({next:a=>{lt(i.name,a.name,i.exact)&&ut(a,i.formState||V,Br,i.reRenderRoot)&&i.callback({values:{...n},...e,...a,defaultValues:o})}}).unsubscribe,Tr=i=>(l.mount=!0,p={...p,...i.formState},Xe({...i,formState:p})),Ee=(i,a={})=>{for(const u of i?K(i):c.mount)c.mount.delete(u),c.array.delete(u),a.keepValue||(N(t,u),N(n,u)),!a.keepError&&N(e.errors,u),!a.keepDirty&&N(e.dirtyFields,u),!a.keepTouched&&N(e.touchedFields,u),!a.keepIsValidating&&N(e.validatingFields,u),!s.shouldUnregister&&!a.keepDefaultValue&&N(o,u);m.state.next({values:U(n)}),m.state.next({...e,...a.keepDirty?{isDirty:re()}:{}}),!a.keepIsValid&&O()},er=({disabled:i,name:a})=>{(G(i)&&l.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},Se=(i,a={})=>{let u=f(t,i);const h=G(a.disabled)||G(s.disabled);return S(t,i,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),u?er({disabled:G(a.disabled)?a.disabled:s.disabled,name:i}):I(i,!0,a.value),{...h?{disabled:a.disabled||s.disabled}:{},...s.progressive?{required:!!a.required,min:he(a.min),max:he(a.max),minLength:he(a.minLength),maxLength:he(a.maxLength),pattern:he(a.pattern)}:{},name:i,onChange:te,onBlur:te,ref:y=>{if(y){Se(i,a),u=f(t,i);const d=L(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,v=rt(d),k=u._f.refs||[];if(v?k.find(M=>M===d):d===u._f.ref)return;S(t,i,{_f:{...u._f,...v?{refs:[...k.filter(Oe),d,...Array.isArray(f(o,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d}}}),I(i,!1,void 0,d)}else u=f(t,i,{}),u._f&&(u._f.mount=!1),(s.shouldUnregister||a.shouldUnregister)&&!(xr(c.array,i)&&l.action)&&c.unMount.add(i)}}},ke=()=>s.shouldFocusError&&ye(t,ge,c.mount),Nr=i=>{G(i)&&(m.state.next({disabled:i}),ye(t,(a,u)=>{const h=f(t,u);h&&(a.disabled=h._f.disabled||i,Array.isArray(h._f.refs)&&h._f.refs.forEach(y=>{y.disabled=h._f.disabled||i}))},0,!1))},rr=(i,a)=>async u=>{let h;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=U(n);if(m.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:v}=await A();e.errors=d,y=U(v)}else await j(t);if(c.disabled.size)for(const d of c.disabled)N(y,d);if(N(e.errors,"root"),H(e.errors)){m.state.next({errors:{}});try{await i(y,u)}catch(d){h=d}}else a&&await a({...e.errors},u),ke(),setTimeout(ke);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(e.errors)&&!h,submitCount:e.submitCount+1,errors:e.errors}),h)throw h},Pr=(i,a={})=>{f(t,i)&&(L(a.defaultValue)?z(i,U(f(o,i))):(z(i,a.defaultValue),S(o,i,U(a.defaultValue))),a.keepTouched||N(e.touchedFields,i),a.keepDirty||(N(e.dirtyFields,i),e.isDirty=a.defaultValue?re(i,U(f(o,i))):re()),a.keepError||(N(e.errors,i),V.isValid&&O()),m.state.next({...e}))},tr=(i,a={})=>{const u=i?U(i):o,h=U(u),y=H(i),d=y?o:h;if(a.keepDefaultValues||(o=u),!a.keepValues){if(a.keepDirtyValues){const v=new Set([...c.mount,...Object.keys(de(o,n))]);for(const k of Array.from(v))f(e.dirtyFields,k)?S(d,k,f(n,k)):z(k,f(d,k))}else{if($e&&L(i))for(const v of c.mount){const k=f(t,v);if(k&&k._f){const M=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Ve(M)){const J=M.closest("form");if(J){J.reset();break}}}}if(a.keepFieldsRef)for(const v of c.mount)z(v,f(d,v));else t={}}n=s.shouldUnregister?a.keepDefaultValues?U(o):{}:U(d),m.array.next({values:{...d}}),m.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!V.isValid||!!a.keepIsValid||!!a.keepDirtyValues,l.watch=!!s.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?e.submitCount:0,isDirty:y?!1:a.keepDirty?e.isDirty:!!(a.keepDefaultValues&&!ie(i,o)),isSubmitted:a.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:y?{}:a.keepDirtyValues?a.keepDefaultValues&&n?de(o,n):e.dirtyFields:a.keepDefaultValues&&i?de(o,i):a.keepDirty?e.dirtyFields:{},touchedFields:a.keepTouched?e.touchedFields:{},errors:a.keepErrors?e.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},sr=(i,a)=>tr(X(i)?i(n):i,a),Ir=(i,a={})=>{const u=f(t,i),h=u&&u._f;if(h){const y=h.refs?h.refs[0]:h.ref;y.focus&&(y.focus(),a.shouldSelect&&X(y.select)&&y.select())}},Br=i=>{e={...e,...i}},ir={control:{register:Se,unregister:Ee,getFieldState:Je,handleSubmit:rr,setError:Qe,_subscribe:Xe,_runSchema:A,_focusError:ke,_getWatch:E,_getDirty:re,_setValid:O,_setFieldArray:ae,_setDisabledField:er,_setErrors:R,_getFieldArray:C,_reset:tr,_resetDefaultValues:()=>X(s.defaultValues)&&s.defaultValues().then(i=>{sr(i,s.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:ee,_disableForm:Nr,_subjects:m,_proxyFormState:V,get _fields(){return t},get _formValues(){return n},get _state(){return l},set _state(i){l=i},get _defaultValues(){return o},get _names(){return c},set _names(i){c=i},get _formState(){return e},get _options(){return s},set _options(i){s={...s,...i}}},subscribe:Tr,trigger:le,register:Se,handleSubmit:rr,watch:Lr,setValue:z,getValues:_e,reset:sr,resetField:Pr,clearErrors:Ur,unregister:Ee,setError:Qe,setFocus:Ir,getFieldState:Je};return{...ir,formControl:ir}}var oe=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const r=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const e=(Math.random()*16+r)%16|0;return(s=="x"?e:e&3|8).toString(16)})},Me=(r,s,e={})=>e.shouldFocus||L(e.shouldFocus)?e.focusName||`${r}.${L(e.focusIndex)?s:e.focusIndex}.`:"",Re=(r,s)=>[...r,...K(s)],Ue=r=>Array.isArray(r)?r.map(()=>{}):void 0;function Le(r,s,e){return[...r.slice(0,s),...K(e),...r.slice(s)]}var Te=(r,s,e)=>Array.isArray(r)?(L(r[e])&&(r[e]=void 0),r.splice(e,0,r.splice(s,1)[0]),r):[],Ne=(r,s)=>[...K(s),...K(r)];function gt(r,s){let e=0;const t=[...r];for(const o of s)t.splice(o-e,1),e++;return xe(t).length?t:[]}var Pe=(r,s)=>L(s)?[]:gt(r,K(s).sort((e,t)=>e-t)),Ie=(r,s,e)=>{[r[s],r[e]]=[r[e],r[s]]},hr=(r,s,e)=>(r[s]=e,r);function wt(r){const s=pe(),{control:e=s.control,name:t,keyName:o="id",shouldUnregister:n,rules:l}=r,[c,x]=b.useState(e._getFieldArray(t)),F=b.useRef(e._getFieldArray(t).map(oe)),V=b.useRef(c),p=b.useRef(!1);V.current=c,e._names.array.add(t),b.useMemo(()=>l&&e.register(t,l),[e,l,t]),we(()=>e._subjects.array.subscribe({next:({values:g,name:_})=>{if(_===t||!_){const A=f(g,t);Array.isArray(A)&&(x(A),F.current=A.map(oe))}}}).unsubscribe,[e,t]);const m=b.useCallback(g=>{p.current=!0,e._setFieldArray(t,g)},[e,t]),Z=(g,_)=>{const A=K(U(g)),D=Re(e._getFieldArray(t),A);e._names.focus=Me(t,D.length-1,_),F.current=Re(F.current,A.map(oe)),m(D),x(D),e._setFieldArray(t,D,Re,{argA:Ue(g)})},W=(g,_)=>{const A=K(U(g)),D=Ne(e._getFieldArray(t),A);e._names.focus=Me(t,0,_),F.current=Ne(F.current,A.map(oe)),m(D),x(D),e._setFieldArray(t,D,Ne,{argA:Ue(g)})},O=g=>{const _=Pe(e._getFieldArray(t),g);F.current=Pe(F.current,g),m(_),x(_),!Array.isArray(f(e._fields,t))&&S(e._fields,t,void 0),e._setFieldArray(t,_,Pe,{argA:g})},B=(g,_,A)=>{const D=K(U(_)),j=Le(e._getFieldArray(t),g,D);e._names.focus=Me(t,g,A),F.current=Le(F.current,g,D.map(oe)),m(j),x(j),e._setFieldArray(t,j,Le,{argA:g,argB:Ue(_)})},ae=(g,_)=>{const A=e._getFieldArray(t);Ie(A,g,_),Ie(F.current,g,_),m(A),x(A),e._setFieldArray(t,A,Ie,{argA:g,argB:_},!1)},w=(g,_)=>{const A=e._getFieldArray(t);Te(A,g,_),Te(F.current,g,_),m(A),x(A),e._setFieldArray(t,A,Te,{argA:g,argB:_},!1)},R=(g,_)=>{const A=U(_),D=hr(e._getFieldArray(t),g,A);F.current=[...D].map((j,ee)=>!j||ee===g?oe():F.current[ee]),m(D),x([...D]),e._setFieldArray(t,D,hr,{argA:g,argB:A},!0,!1)},I=g=>{const _=K(U(g));F.current=_.map(oe),m([..._]),x([..._]),e._setFieldArray(t,[..._],A=>A,{},!0,!1)};return b.useEffect(()=>{if(e._state.action=!1,We(t,e._names)&&e._subjects.state.next({...e._formState}),p.current&&(!fe(e._options.mode).isOnSubmit||e._formState.isSubmitted)&&!fe(e._options.reValidateMode).isOnSubmit)if(e._options.resolver)e._runSchema([t]).then(g=>{const _=f(g.errors,t),A=f(e._formState.errors,t);(A?!_&&A.type||_&&(A.type!==_.type||A.message!==_.message):_&&_.type)&&(_?S(e._formState.errors,t,_):N(e._formState.errors,t),e._subjects.state.next({errors:e._formState.errors}))});else{const g=f(e._fields,t);g&&g._f&&!(fe(e._options.reValidateMode).isOnSubmit&&fe(e._options.mode).isOnSubmit)&&qe(g,e._names.disabled,e._formValues,e._options.criteriaMode===Q.all,e._options.shouldUseNativeValidation,!0).then(_=>!H(_)&&e._subjects.state.next({errors:Mr(e._formState.errors,_,t)}))}e._subjects.state.next({name:t,values:U(e._formValues)}),e._names.focus&&ye(e._fields,(g,_)=>{if(e._names.focus&&_.startsWith(e._names.focus)&&g.focus)return g.focus(),1}),e._names.focus="",e._setValid(),p.current=!1},[c,t,e]),b.useEffect(()=>(!f(e._formValues,t)&&e._setFieldArray(t),()=>{const g=(_,A)=>{const D=f(e._fields,_);D&&D._f&&(D._f.mount=A)};e._options.shouldUnregister||n?e.unregister(t):g(t,!1)}),[t,e,o,n]),{swap:b.useCallback(ae,[m,t,e]),move:b.useCallback(w,[m,t,e]),prepend:b.useCallback(W,[m,t,e]),append:b.useCallback(Z,[m,t,e]),remove:b.useCallback(O,[m,t,e]),insert:b.useCallback(B,[m,t,e]),update:b.useCallback(R,[m,t,e]),replace:b.useCallback(I,[m,t,e]),fields:b.useMemo(()=>c.map((g,_)=>({...g,[o]:F.current[_]||oe()})),[c,o])}}function Et(r={}){const s=b.useRef(void 0),e=b.useRef(void 0),[t,o]=b.useState({isDirty:!1,isValidating:!1,isLoading:X(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:X(r.defaultValues)?void 0:r.defaultValues});if(!s.current)if(r.formControl)s.current={...r.formControl,formState:t},r.defaultValues&&!X(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions);else{const{formControl:l,...c}=yt(r);s.current={...c,formState:t}}const n=s.current.control;return n._options=r,we(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(c=>({...c,isReady:!0})),n._formState.isReady=!0,l},[n]),b.useEffect(()=>n._disableForm(r.disabled),[n,r.disabled]),b.useEffect(()=>{r.mode&&(n._options.mode=r.mode),r.reValidateMode&&(n._options.reValidateMode=r.reValidateMode)},[n,r.mode,r.reValidateMode]),b.useEffect(()=>{r.errors&&(n._setErrors(r.errors),n._focusError())},[n,r.errors]),b.useEffect(()=>{r.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,r.shouldUnregister]),b.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==t.isDirty&&n._subjects.state.next({isDirty:l})}},[n,t.isDirty]),b.useEffect(()=>{r.values&&!ie(r.values,e.current)?(n._reset(r.values,{keepFieldsRef:!0,...n._options.resetOptions}),e.current=r.values,o(l=>({...l}))):n._resetDefaultValues()},[n,r.values]),b.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=pr(t,n),s.current}const mr=(r,s,e)=>{if(r&&"reportValidity"in r){const t=f(e,s);r.setCustomValidity(t&&t.message||""),r.reportValidity()}},He=(r,s)=>{for(const e in s.fields){const t=s.fields[e];t&&t.ref&&"reportValidity"in t.ref?mr(t.ref,e,r):t&&t.refs&&t.refs.forEach(o=>mr(o,e,r))}},_r=(r,s)=>{s.shouldUseNativeValidation&&He(r,s);const e={};for(const t in r){const o=f(s.fields,t),n=Object.assign(r[t]||{},{ref:o&&o.ref});if(ht(s.names||Object.keys(r),t)){const l=Object.assign({},f(e,t));S(l,"root",n),S(e,t,l)}else S(e,t,n)}return e},ht=(r,s)=>{const e=vr(s);return r.some(t=>vr(t).match(`^${e}\\.\\d+`))};function vr(r){return r.replace(/\]|\[/g,"")}function br(r,s){try{var e=r()}catch(t){return s(t)}return e&&e.then?e.then(void 0,s):e}function mt(r,s){for(var e={};r.length;){var t=r[0],o=t.code,n=t.message,l=t.path.join(".");if(!e[l])if("unionErrors"in t){var c=t.unionErrors[0].errors[0];e[l]={message:c.message,type:c.code}}else e[l]={message:n,type:o};if("unionErrors"in t&&t.unionErrors.forEach(function(V){return V.errors.forEach(function(p){return r.push(p)})}),s){var x=e[l].types,F=x&&x[t.code];e[l]=Ze(l,s,e,o,F?[].concat(F,t.message):t.message)}r.shift()}return e}function _t(r,s){for(var e={};r.length;){var t=r[0],o=t.code,n=t.message,l=t.path.join(".");if(!e[l])if(t.code==="invalid_union"&&t.errors.length>0){var c=t.errors[0][0];e[l]={message:c.message,type:c.code}}else e[l]={message:n,type:o};if(t.code==="invalid_union"&&t.errors.forEach(function(V){return V.forEach(function(p){return r.push(p)})}),s){var x=e[l].types,F=x&&x[t.code];e[l]=Ze(l,s,e,o,F?[].concat(F,t.message):t.message)}r.shift()}return e}function St(r,s,e){if(e===void 0&&(e={}),(function(t){return"_def"in t&&typeof t._def=="object"&&"typeName"in t._def})(r))return function(t,o,n){try{return Promise.resolve(br(function(){return Promise.resolve(r[e.mode==="sync"?"parse":"parseAsync"](t,s)).then(function(l){return n.shouldUseNativeValidation&&He({},n),{errors:{},values:e.raw?Object.assign({},t):l}})},function(l){if((function(c){return Array.isArray(c?.issues)})(l))return{values:{},errors:_r(mt(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};if((function(t){return"_zod"in t&&typeof t._zod=="object"})(r))return function(t,o,n){try{return Promise.resolve(br(function(){return Promise.resolve((e.mode==="sync"?Hr:$r)(r,t,s)).then(function(l){return n.shouldUseNativeValidation&&He({},n),{errors:{},values:e.raw?Object.assign({},t):l}})},function(l){if((function(c){return c instanceof zr})(l))return{values:{},errors:_r(_t(l.issues,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}var vt="Label",Rr=Kr.forwardRef((r,s)=>Vr.jsx(Gr.label,{...r,ref:s,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(r.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));Rr.displayName=vt;var bt=Rr;function kt({className:r,...s}){return Vr.jsx(bt,{"data-slot":"label",className:Zr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}export{pt as C,xt as F,kt as L,St as a,pe as b,Qr as c,wt as d,Et as u};
