import{j as e,c as z,i as xe,r as g,e as ne,o as ie,t as T,B as h,s as S,k as U,n as Y,_ as pe,u as ge,l as je}from"./index--PttCZWB.js";import{a as I,u as re,E as ve,S as W,T as fe,b as we,M as ye}from"./top-nav-gqN7m17U.js";import{u as be,a as Ne,L as N,I as D}from"./label-DFywGouj.js";import{S as F,a as E,b as L,c as B,d as C}from"./select-Be5FgsWK.js";import{B as P}from"./badge-DvlS7RHt.js";import{R as Ce,I as _e,a as ke,H as Se,S as qe,T as Pe,C as Ae,P as De}from"./config-drawer-47TCGBua.js";import{c as K,b as k}from"./createLucideIcon-BRCbxnyo.js";import{m as le}from"./modules-api-CzQHjQEP.js";import{N as J,$ as Te,O as X,Q as Z,R as ee,T as se,W as Qe,D as Me,j as $e,k as Fe,n as V,m as Ee,a0 as Le,a1 as Be,a2 as ze,a3 as Oe,a4 as Re,a5 as Ve,a6 as Ie,a7 as Ke}from"./sign-out-dialog-BjgdDRrb.js";import{T as te}from"./textarea-B9wXgtqg.js";import{E as Q}from"./eye-DuaVr12y.js";import{P as H}from"./plus-Bx6WFtZK.js";import{F as He}from"./file-text-B3PAoYeA.js";import{D as Ge}from"./download-D8d-aPVa.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ae=K("circle-alert",Ue);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],We=K("circle",Ye);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M5 12h14",key:"1ays0h"}]],Xe=K("minus",Je),Ze=xe("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function es({className:s,variant:a,...o}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:z(Ze({variant:a}),s),...o})}function ss({className:s,...a}){return e.jsx("div",{"data-slot":"alert-description",className:z("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}const G={create:async s=>(await k.post("/admin/questions",s)).data,list:async s=>{const a=new URLSearchParams;s?.include_deleted!==void 0&&a.set("include_deleted",s.include_deleted.toString());const o=`/admin/questions${a.toString()?`?${a.toString()}`:""}`;return(await k.get(o)).data},getByModuleId:async(s,a)=>{const o=new URLSearchParams;a?.include_deleted!==void 0&&o.set("include_deleted",a.include_deleted.toString());const x=`/admin/modules/${s}/questions${o.toString()?`?${o.toString()}`:""}`;return(await k.get(x)).data},getById:async(s,a)=>{const o=new URLSearchParams;a?.include_deleted!==void 0&&o.set("include_deleted",a.include_deleted.toString());const x=`/admin/questions/${s}${o.toString()?`?${o.toString()}`:""}`;return(await k.get(x)).data},update:async(s,a)=>(await k.put(`/admin/questions/${s}`,a)).data,delete:async s=>(await k.delete(`/admin/questions/${s}`)).data,restore:async s=>(await k.post(`/admin/questions/${s}/restore`)).data};function ts({className:s,...a}){return e.jsx(Ce,{"data-slot":"radio-group",className:z("grid gap-3",s),...a})}function as({className:s,...a}){return e.jsx(_e,{"data-slot":"radio-group-item",className:z("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:e.jsx(ke,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(We,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const ns=ie({label:S().min(1,"Label is required"),content_markdown:S().min(1,"Content is required")}),is=ie({title:S().min(1,"Title is required").max(200,"Title must be less than 200 characters"),type:pe(["mcq","fill_blank"]),content_markdown:S().min(1,"Content is required").max(5e3,"Content must be less than 5000 characters"),position:Y().min(1,"Position must be at least 1"),module_id:Y().min(1,"Module is required"),choices:U(ns).optional(),answer:U(S().min(1,"Answer cannot be empty")).min(1,"At least one answer is required").optional(),mcq_correct_answer:S().optional(),explanation_markdown:S().max(2e3,"Explanation must be less than 2000 characters").optional()}).refine(s=>!(s.type==="mcq"&&(!s.choices||s.choices.length===0)||s.type==="fill_blank"&&(!s.answer||s.answer.length===0)),{message:"Please fill in all required fields",path:["choices"]});function rs({children:s,defaultModuleId:a,onSuccess:o}){const[x,r]=g.useState(!1),q=ne(),{register:d,handleSubmit:v,formState:{errors:l},reset:w,setValue:m,watch:f}=be({resolver:Ne(is),defaultValues:{position:1,module_id:a||void 0,choices:[{label:"A",content_markdown:""},{label:"B",content_markdown:""},{label:"C",content_markdown:""},{label:"D",content_markdown:""}],answer:void 0,mcq_correct_answer:"A"}}),[p,j]=g.useState([""]),[y,_]=g.useState("A"),[t,i]=g.useState(!1),[b,A]=g.useState(""),[oe,ce]=g.useState(""),O=f("type"),R=(n,u)=>{A(n),ce(u),i(!0)},{data:de=[]}=I({queryKey:["modules"],queryFn:()=>le.list()});g.useEffect(()=>{a&&m("module_id",a)},[a,m]);const c=re({mutationFn:n=>G.create(n),onSuccess:n=>{T.success(`Question "${n.title}" created successfully!`),q.invalidateQueries({queryKey:["questions"]}),q.invalidateQueries({queryKey:["module-questions"]}),r(!1),j([""]),_("A"),w({position:1,module_id:a||void 0,choices:[{label:"A",content_markdown:""},{label:"B",content_markdown:""},{label:"C",content_markdown:""},{label:"D",content_markdown:""}],answer:void 0,mcq_correct_answer:"A"}),o?.()},onError:n=>{const u=n.response?.data?.detail||"Failed to create question. Please try again.";T.error(u)}}),me=n=>{if(n.type==="mcq"&&!y){T.error("Please select the correct answer for the multiple choice question");return}const u={...n,answer:n.type==="mcq"?[y]:p,choices:n.type==="mcq"?n.choices||[]:null};c.mutate(u)},ue=n=>{n||(j([""]),_("A"),w({position:1,module_id:a||void 0,choices:[{label:"A",content_markdown:""},{label:"B",content_markdown:""},{label:"C",content_markdown:""},{label:"D",content_markdown:""}],answer:void 0,mcq_correct_answer:"A"})),r(n)};return e.jsxs(J,{open:x,onOpenChange:ue,children:[e.jsx(Te,{asChild:!0,children:s}),e.jsxs(X,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Z,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{children:"Create New Question"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"text-sm font-medium",children:"Module:"}),e.jsxs(F,{value:f("module_id")?.toString(),onValueChange:n=>m("module_id",parseInt(n)),disabled:c.isPending||!!a,children:[e.jsx(E,{className:"w-[200px]",children:e.jsx(L,{placeholder:"Select module"})}),e.jsx(B,{children:de.map(n=>e.jsx(C,{value:n.id.toString(),children:n.title},n.id))})]})]})]}),e.jsx(se,{children:"Create a new question within a module. Choose between multiple choice or fill-in-the-blank formats."})]}),e.jsxs("form",{onSubmit:v(me),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[e.jsxs("div",{className:"col-span-3 space-y-2",children:[e.jsx(N,{htmlFor:"title",children:"Question Title"}),e.jsx(D,{id:"title",placeholder:"Grammar Question 1",...d("title"),disabled:c.isPending}),l.title&&e.jsx("p",{className:"text-sm text-destructive",children:l.title.message})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(N,{htmlFor:"type",children:"Question Type"}),e.jsxs(F,{value:O,onValueChange:n=>m("type",n),disabled:c.isPending,children:[e.jsx(E,{children:e.jsx(L,{placeholder:"Select type"})}),e.jsxs(B,{children:[e.jsx(C,{value:"mcq",children:"Multiple Choice"}),e.jsx(C,{value:"fill_blank",children:"Fill in the Blank"})]})]}),l.type&&e.jsx("p",{className:"text-sm text-destructive",children:l.type.message})]}),e.jsxs("div",{className:"col-span-1 space-y-2",children:[e.jsx(N,{htmlFor:"position",children:"Position"}),e.jsx(D,{id:"position",type:"number",min:"1",placeholder:"1",...d("position",{valueAsNumber:!0}),disabled:c.isPending,className:"text-center"}),l.position&&e.jsx("p",{className:"text-sm text-destructive",children:l.position.message})]})]}),l.module_id&&e.jsx("p",{className:"text-sm text-destructive",children:l.module_id.message}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{htmlFor:"content_markdown",children:"Question Content (Markdown)"}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(f("content_markdown")||"","Question Content Preview"),disabled:c.isPending,children:e.jsx(Q,{className:"h-4 w-4"})})]}),e.jsx(te,{id:"content_markdown",placeholder:"**Choose the best answer:**\\n\\nWhich sentence is grammatically correct?",rows:4,...d("content_markdown"),disabled:c.isPending}),l.content_markdown&&e.jsx("p",{className:"text-sm text-destructive",children:l.content_markdown.message})]}),O==="mcq"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{children:"Answer Choices (Select the correct answer)"}),e.jsx(ts,{value:y,onValueChange:_,disabled:c.isPending,children:["A","B","C","D"].map((n,u)=>(m(`choices.${u}.label`,n),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(as,{value:n,id:`choice-${n}`}),e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium",children:n}),e.jsx(D,{placeholder:`Choice ${n}`,...d(`choices.${u}.content_markdown`),className:"flex-1",disabled:c.isPending}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(f(`choices.${u}.content_markdown`)||"",`Choice ${n} Preview`),disabled:c.isPending,children:e.jsx(Q,{className:"h-3 w-3"})})]},u)))}),l.choices&&e.jsx("p",{className:"text-sm text-destructive",children:l.choices.message}),l.mcq_correct_answer&&e.jsx("p",{className:"text-sm text-destructive",children:l.mcq_correct_answer.message})]}),O==="fill_blank"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{children:"Correct Answer(s)"}),e.jsxs(h,{type:"button",variant:"outline",size:"sm",onClick:()=>j([...p,""]),disabled:c.isPending,children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Add Answer"]})]}),e.jsx("div",{className:"space-y-2",children:p.map((n,u)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{placeholder:"Answer",value:n,onChange:M=>{const $=[...p];$[u]=M.target.value,j($),m("answer",$)},className:"flex-1",disabled:c.isPending}),p.length>1&&e.jsx(h,{type:"button",variant:"outline",size:"sm",onClick:()=>{const M=p.filter(($,he)=>he!==u);j(M),m("answer",M)},disabled:c.isPending,children:e.jsx(Xe,{className:"h-4 w-4"})})]},u))}),l.answer&&e.jsx("p",{className:"text-sm text-destructive",children:l.answer.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(N,{htmlFor:"explanation_markdown",children:"Explanation (Optional)"}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(f("explanation_markdown")||"","Explanation Preview"),disabled:c.isPending,children:e.jsx(Q,{className:"h-4 w-4"})})]}),e.jsx(te,{id:"explanation_markdown",placeholder:"The correct answer is A because...",rows:3,...d("explanation_markdown"),disabled:c.isPending}),l.explanation_markdown&&e.jsx("p",{className:"text-sm text-destructive",children:l.explanation_markdown.message})]}),e.jsxs(Qe,{children:[e.jsx(h,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:c.isPending,children:"Cancel"}),e.jsx(h,{type:"submit",disabled:c.isPending,children:c.isPending?"Creating...":"Create Question"})]})]})]}),e.jsx(J,{open:t,onOpenChange:i,children:e.jsxs(X,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Z,{children:[e.jsx(ee,{children:oe}),e.jsx(se,{children:"Preview of your markdown content"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Raw Markdown:"}),e.jsx("pre",{className:"text-sm whitespace-pre-wrap font-mono bg-background p-3 rounded border",children:b||"No content to preview"})]}),e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"How it will appear:"}),e.jsx("div",{className:"prose prose-sm max-w-none bg-background p-3 rounded border",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:b.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>").replace(/^(.*)$/,"<p>$1</p>")}})})]})]})]})})]})}function ls({data:s,modules:a,isLoading:o,onEdit:x,onRefresh:r}){const[q,d]=g.useState(!1),[v,l]=g.useState(null),w=ne(),m=re({mutationFn:t=>G.delete(t),onSuccess:(t,i)=>{const b=s.find(A=>A.id===i)?.title||"Question";T.success(`${b} deleted successfully`),w.invalidateQueries({queryKey:["questions"]}),w.invalidateQueries({queryKey:["module-questions"]}),d(!1),l(null),r()},onError:t=>{const i=t.response?.data?.detail||"Failed to delete question. Please try again.";T.error(i)}}),f=t=>{l(t),d(!0)},p=()=>{v&&m.mutate(v.id)},j=t=>t==="mcq"?"Multiple Choice":"Fill in the Blank",y=t=>t==="mcq"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700",_=t=>a.find(i=>i.id===t)?.title||`Module #${t}`;return o?e.jsx("div",{className:"text-center py-12",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading questions..."})}):s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(He,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("div",{className:"text-muted-foreground mb-4",children:"No questions found."}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select a module from the filter above to view its questions or create your first question."}),e.jsxs(h,{onClick:r,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Create Your First Question"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsxs("div",{className:"border rounded-xl p-6 hover:shadow-lg transition-all duration-200 bg-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.title}),e.jsx(P,{variant:"outline",className:y(t.type),children:j(t.type)}),e.jsx(P,{variant:"default",children:"Active"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.module?.title||_(t.module?.id||0)})]}),e.jsxs(Me,{children:[e.jsx($e,{asChild:!0,children:e.jsxs(h,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(ve,{className:"h-4 w-4"})]})}),e.jsxs(Fe,{align:"end",children:[e.jsxs(V,{onClick:()=>{},children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsxs(V,{onClick:()=>x(t),children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(Ee,{}),e.jsxs(V,{onClick:()=>f(t),className:"text-destructive",children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Position:"}),e.jsx("div",{className:"font-medium",children:t.position})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Answer(s):"}),e.jsx("div",{className:"font-medium",children:t.answer.join(", ")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx("div",{className:"font-medium",children:j(t.type)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Choices:"}),e.jsx("div",{className:"font-medium",children:t.type==="mcq"?t.choices?.length||0:"N/A"})]})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Content Preview:"}),e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-3",children:t.content_markdown.replace(/\*\*/g,"").replace(/\n/g," ")})]}),t.type==="mcq"&&t.choices&&t.choices.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Choices:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.choices.slice(0,4).map((i,b)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(P,{variant:"outline",className:"w-8 justify-center",children:i.label}),e.jsx("span",{className:"text-muted-foreground line-clamp-1",children:i.content_markdown.replace(/\*\*/g,"")})]},b))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>{},children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>x(t),children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Edit"]})]})]},t.id))}),e.jsx(Le,{open:q,onOpenChange:d,children:e.jsxs(Be,{children:[e.jsxs(ze,{children:[e.jsx(Oe,{children:"Delete Question"}),e.jsxs(Re,{children:['Are you sure you want to delete "',v?.title,'"? This will perform a soft delete and the question can be restored later.']})]}),e.jsxs(Ve,{children:[e.jsx(Ie,{disabled:m.isPending,children:"Cancel"}),e.jsx(Ke,{onClick:p,disabled:m.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:m.isPending?"Deleting...":"Delete"})]})]})})]})}function os(){const s=ge(),a=je({strict:!1}),[o,x]=g.useState(""),[r,q]=g.useState(a.moduleId||"none"),[d,v]=g.useState("all"),{data:l=[]}=I({queryKey:["modules"],queryFn:()=>le.list()}),{data:w=[],isLoading:m,refetch:f}=I({queryKey:["questions",r],queryFn:()=>r==="none"?[]:G.getByModuleId(parseInt(r)),enabled:r!=="none"}),p=w.filter(i=>{const b=i.title.toLowerCase().includes(o.toLowerCase()),A=d==="all"||i.type===d;return b&&A}),j=i=>{console.log("Edit question:",i.title)},y=()=>{f()},_=i=>{q(i),x(""),v("all"),s(i!=="none"?{to:"/tests/questions",search:{moduleId:i}}:{to:"/tests/questions",search:{}})},t=i=>i==="mcq"?"Multiple Choice":"Fill in the Blank";return e.jsxs(e.Fragment,{children:[e.jsxs(Se,{children:[e.jsx(we,{links:cs}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(qe,{}),e.jsx(Pe,{}),e.jsx(Ae,{}),e.jsx(De,{})]})]}),e.jsxs(ye,{children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Questions Management"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Create and manage individual test questions with multiple choice or fill-in-the-blank formats"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(rs,{defaultModuleId:r!=="none"?parseInt(r):void 0,onSuccess:y,children:e.jsxs(h,{size:"lg",className:"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary/80 shadow-lg hover:shadow-xl transition-all duration-200",disabled:r==="none",children:[e.jsx(H,{className:"mr-2 h-5 w-5"}),"Add Question"]})})})]}),r==="none"&&e.jsxs(es,{className:"mb-6 border-amber-200 bg-amber-50 text-amber-800",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx(ss,{children:"Please select a module to view and manage questions. You must choose a specific module to see its questions."})]}),e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(D,{placeholder:r==="none"?"Select a module first to search questions...":"Search questions...",value:o,onChange:i=>x(i.target.value),className:"w-full",disabled:r==="none"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{value:r,onValueChange:_,children:[e.jsx(E,{className:"w-[180px]",children:e.jsx(L,{placeholder:"Select Module"})}),e.jsxs(B,{children:[e.jsx(C,{value:"none",children:"Select Module..."}),l.map(i=>e.jsx(C,{value:i.id.toString(),children:i.title},i.id))]})]}),e.jsxs(F,{value:d,onValueChange:v,disabled:r==="none",children:[e.jsx(E,{className:"w-[140px]",children:e.jsx(L,{placeholder:"All Types"})}),e.jsxs(B,{children:[e.jsx(C,{value:"all",children:"All Types"}),e.jsx(C,{value:"mcq",children:"Multiple Choice"}),e.jsx(C,{value:"fill_blank",children:"Fill in Blank"})]})]}),e.jsxs(h,{variant:"outline",size:"sm",disabled:r==="none"||p.length===0,children:[e.jsx(Ge,{className:"h-4 w-4"}),"Export"]})]})]}),r!=="none"&&(o||d!=="all")&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-6",children:[e.jsxs("span",{children:["Showing ",p.length," of ",w.length," questions"]}),o&&e.jsxs(P,{variant:"secondary",children:['Search: "',o,'"']}),e.jsxs(P,{variant:"secondary",children:["Module: ",l.find(i=>i.id.toString()===r)?.title]}),d!=="all"&&e.jsxs(P,{variant:"secondary",children:["Type: ",t(d)]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>{x(""),v("all")},children:"Clear filters"})]}),r!=="none"&&e.jsx(ls,{data:p,modules:l,isLoading:m,onEdit:j,onRefresh:y}),r==="none"&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ae,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Module to View Questions"}),e.jsx("div",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Questions are organized by modules. Please select a specific module from the dropdown above to view and manage its questions."}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"You can also create questions directly within a selected module."})]})]})]})}const cs=[{title:"Tests",href:"/tests/tests",isActive:!1,disabled:!1},{title:"Modules",href:"/tests/modules",isActive:!1,disabled:!1},{title:"Questions",href:"/tests/questions",isActive:!0,disabled:!1}],Cs=os;export{Cs as component};
